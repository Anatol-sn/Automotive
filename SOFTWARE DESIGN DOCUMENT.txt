SOFTWARE DESIGN DOCUMENT

Project Title: Orientation System using GPS and Compass
Version: 1.0
Date: 2025-06-12
Author: [Your Name]

1. Introduction

1.1 Purpose

The purpose of this document is to define the architecture, components, interfaces, and data for the Orientation System using GPS and Compass. The system is designed to determine real-time direction and location in planar coordinates, adjusted for magnetic declination.

1.2 Scope

The system will receive GPS coordinates and compass data through UART, calculate magnetic declination based on the user's location, and output true direction and coordinates. It also collects statistics and can store routes.

1.3 Definitions, Acronyms, and Abbreviations

GPS: Global Positioning System

UART: Universal Asynchronous Receiver-Transmitter

SDD: Software Design Document

WMM: World Magnetic Model

UI: User Interface

2. System Overview

The Orientation System is a microcontroller-based system with sensor integration. It communicates with a GPS module and a digital compass via UART. The system processes sensor data, corrects magnetic heading using declination models, and outputs results to a console or display.

3. System Architecture

Input: GPS module, Compass sensor

Processing: Data parsing, magnetic declination calculation, direction correction

Output: Display of true north direction and current coordinates

Storage: Logging of position and direction history

Diagram components:

GPS Module → UART → GPS Parser

Compass → UART → Compass Parser

GPS + Compass → Declination Module → Output + Stats Collector

4. Design Considerations

4.1 Assumptions and Dependencies

Accurate GPS and Compass modules are available

UART operates at 9600 or 115200 baud

Magnetic declination model data (e.g. WMM) is available

4.2 Constraints

Must work in real-time (update rate ≥ 1 Hz)

Limited processing power and memory on embedded hardware

5. System Components

5.1 UART Interface

Responsible for serial communication with GPS and Compass

5.2 GPS Processor

Parses NMEA sentences

Extracts latitude and longitude

5.3 Compass Processor

Reads heading angle

Converts raw magnetic data to degrees

5.4 Declination Calculator

Uses coordinate input to calculate magnetic declination

Outputs corrected true heading

5.5 Output Module

Displays heading and coordinates

Optional: Sends data to remote dashboard

5.6 Statistics Collector

Logs data (timestamp, location, heading)

Saves in CSV or JSON format

6. Interface Design

6.1 External Interfaces

GPS Module: UART at 9600 baud, NMEA protocol

Compass: UART at 115200 baud or I2C (alternative)

Display/Console: Serial console or LCD

6.2 Internal Interfaces

UART streams parsed by processor modules

Declination module receives coordinates and heading as input

7. Data Design

Coordinate Format: Decimal Degrees

Heading Format: Degrees (0–360°)

Log File: { timestamp, lat, lon, magnetic, true_heading }

8. Security and Reliability

Validate all UART input

Handle sensor disconnection gracefully

Ensure accurate declination corrections

9. Future Enhancements

Integration with mapping API (e.g. OpenStreetMap)

Wi-Fi module for remote data upload

Voice direction output

10. Appendices

A. GPS NMEA Sentence Format

B. Declination Calculation Algorithm

C. Supported Compass Modules (e.g. HMC5883L, QMC5883)